<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .suggestions {
  position: absolute;
  background-color: #fff;
  border: 1px solid #ccc;
  width: 100%;
  max-height: 200px;
  overflow-y: auto;
  display: none;
}

.suggestions .suggestion-item {
  padding: 10px;
  cursor: pointer;
}

.suggestions .suggestion-item:hover {
  background-color: #f0f0f0;
}

    </style>
</head>
<body>
    <div class="search-container search-container-1">
  <span class="icon"><i class="fa-solid fa-magnifying-glass"></i></span>
  <input type="text" id="search-box-1" class="search-box" />
  <div class="placeholder">
    Search for '<span class="dynamic-text" id="dynamic-text-1"></span>'
  </div>
  <div class="suggestions" id="suggestions-1"></div>
</div>

<!-- Additional Search Containers -->
<div class="search-container search-container-2">
  <span class="icon"><i class="fa-solid fa-magnifying-glass"></i></span>
  <input type="text" id="search-box-2" class="search-box" />
  <div class="placeholder">
    Search for '<span class="dynamic-text" id="dynamic-text-2"></span>'
  </div>
  <div class="suggestions" id="suggestions-2"></div>
</div>

<script>
    const dynamicTexts = [
  "AC service",
  "home cleaning",
  "plumbing",
  "electrician",
  "painting",
];

const searchableContent = [
  { name: "AC service", link: "/ac-service" },
  { name: "Home cleaning", link: "/home-cleaning" },
  { name: "Plumbing services", link: "/plumbing" },
  { name: "Electrician services", link: "/electrician" },
  { name: "Painting services", link: "/painting" },
  // Add more items/content that you want searchable
];

function typeDynamicText(dynamicTextElement, currentIndex) {
  let text = dynamicTexts[currentIndex];
  let index = 0;

  const typingInterval = setInterval(() => {
    if (index < text.length) {
      dynamicTextElement.textContent += text.charAt(index);
      index++;
    } else {
      clearInterval(typingInterval);
      setTimeout(() => {
        let eraseIndex = text.length;
        const eraseInterval = setInterval(() => {
          if (eraseIndex > 0) {
            dynamicTextElement.textContent = text.substring(0, eraseIndex - 1);
            eraseIndex--;
          } else {
            clearInterval(eraseInterval);
            setTimeout(() => {
              currentIndex = (currentIndex + 1) % dynamicTexts.length;
              typeDynamicText(dynamicTextElement, currentIndex);
            }, 1000);
          }
        }, 100);
      }, 2000);
    }
  }, 150);
}

function searchContent(query, suggestionsElement) {
  // Filter the content based on the search query
  const results = searchableContent.filter(item =>
    item.name.toLowerCase().includes(query.toLowerCase())
  );

  // Clear previous suggestions
  suggestionsElement.innerHTML = '';

  // Show suggestions
  if (results.length > 0) {
    suggestionsElement.style.display = 'block';
    results.forEach(result => {
      const suggestionItem = document.createElement('div');
      suggestionItem.classList.add('suggestion-item');
      suggestionItem.textContent = result.name;
      suggestionItem.onclick = () => window.location.href = result.link; // Redirect to the link
      suggestionsElement.appendChild(suggestionItem);
    });
  } else {
    suggestionsElement.style.display = 'none';
  }
}

function setupSearch(inputElement, suggestionsElement) {
  inputElement.addEventListener('input', (e) => {
    const query = e.target.value.trim();
    if (query) {
      searchContent(query, suggestionsElement);
    } else {
      suggestionsElement.style.display = 'none';
    }
  });
}

// Apply dynamic text animation to multiple elements
document.querySelectorAll(".dynamic-text").forEach((dynamicTextElement, index) => {
  typeDynamicText(dynamicTextElement, 0); // Start typing from the first text in the array for each instance
});

// Setup search functionality for each search box
document.querySelectorAll('.search-box').forEach((inputElement, index) => {
  const suggestionsElement = document.getElementById(`suggestions-${index + 1}`);
  setupSearch(inputElement, suggestionsElement);
});

</script>
</body>
</html>