<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .heart-container {
  --heart-color: rgb(255, 91, 137);
  position: relative;
  left: 20rem;
  top: -1rem;
  width: 25px;
  height: 25px;
  transition: .3s;
}

.heart-container .checkbox {
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: 0;
  z-index: 20;
  cursor: pointer;
}

.heart-container .svg-container {
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.heart-container .svg-outline,
        .heart-container .svg-filled {
  fill: var(--heart-color);
  position: absolute;
}

.heart-container .svg-filled {
  animation: keyframes-svg-filled 1s;
  display: none;
}

.heart-container .svg-celebrate {
  position: absolute;
  animation: keyframes-svg-celebrate .5s;
  animation-fill-mode: forwards;
  display: none;
  stroke: var(--heart-color);
  fill: var(--heart-color);
  stroke-width: 2px;
}

.heart-container .checkbox:checked~.svg-container .svg-filled {
  display: block
}

.heart-container .checkbox:checked~.svg-container .svg-celebrate {
  display: block
}

@keyframes keyframes-svg-filled {
  0% {
    transform: scale(0);
  }

  25% {
    transform: scale(1.2);
  }

  50% {
    transform: scale(1);
    filter: brightness(1.5);
  }
}

@keyframes keyframes-svg-celebrate {
  0% {
    transform: scale(0);
  }

  50% {
    opacity: 1;
    filter: brightness(1.5);
  }

  100% {
    transform: scale(1.4);
    opacity: 0;
    display: none;
  }
}
  </style>
</head>
<body>
  <div class="product" data-id="101" data-name="Product A" data-price="500">
  <img src="product-a.jpg" alt="Product A" />
  <p>Product A</p>
  <p>Price: ₹500</p>
</div>

<div class="product" data-id="102" data-name="Product B" data-price="750">
  <img src="product-b.jpg" alt="Product B" />
  <p>Product B</p>
  <p>Price: ₹750</p>
</div>

<div class="product" data-id="103" data-name="Product C" data-price="999">
  <img src="product-c.jpg" alt="Product C" />
  <p>Product C</p>
  <p>Price: ₹999</p>
</div>
<div class="product" data-id="103" data-name="Product C" data-price="999">
  <img src="product-c.jpg" alt="Product C" />
  <p>Product C</p>
  <p>Price: ₹999</p>
</div>
<div class="product" data-id="103" data-name="Product C" data-price="999">
  <img src="product-c.jpg" alt="Product C" />
  <p>Product C</p>
  <p>Price: ₹999</p>
</div>
<div class="product" data-id="103" data-name="Product C" data-price="999">
  <img src="product-c.jpg" alt="Product C" />
  <p>Product C</p>
  <p>Price: ₹999</p>
</div>
<div class="product" data-id="103" data-name="Product C" data-price="999">
  <img src="product-c.jpg" alt="Product C" />
  <p>Product C</p>
  <p>Price: ₹999</p>
</div>
<div class="product" data-id="103" data-name="Product C" data-price="999">
  <img src="product-c.jpg" alt="Product C" />
  <p>Product C</p>
  <p>Price: ₹999</p>
</div>
<div class="product" data-id="103" data-name="Product C" data-price="999">
  <img src="product-c.jpg" alt="Product C" />
  <p>Product C</p>
  <p>Price: ₹999</p>
</div>
<div class="product" data-id="103" data-name="Product C" data-price="999">
  <img src="product-c.jpg" alt="Product C" />
  <p>Product C</p>
  <p>Price: ₹999</p>
</div>
<div class="product" data-id="103" data-name="Product C" data-price="999">
  <img src="product-c.jpg" alt="Product C" />
  <p>Product C</p>
  <p>Price: ₹999</p>
</div>
<div class="product" data-id="103" data-name="Product C" data-price="999">
  <img src="product-c.jpg" alt="Product C" />
  <p>Product C</p>
  <p>Price: ₹999</p>
</div>

<!-- Add this script tag before the closing body tag -->
<script>
  // Wishlist Logic with Dynamic Button Placement

document.addEventListener("DOMContentLoaded", () => {
  const wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];

  // Function to render wishlist buttons dynamically
  function addWishlistButtons() {
    const products = document.querySelectorAll(".product");

    products.forEach((product) => {
      if (!product.querySelector(".wishlist-button")) {
        const button = document.createElement("div");
        button.className = "heart-container wishlist-button";
        button.title = "Add to Wishlist";

        button.innerHTML = `
          <input type="checkbox" class="checkbox">
          <div class="svg-container">
            <svg viewBox="0 0 24 24" class="svg-outline" xmlns="http://www.w3.org/2000/svg">
              <path d="M17.5,1.917a6.4,6.4,0,0,0-5.5,3.3,6.4,6.4,0,0,0-5.5-3.3A6.8,6.8,0,0,0,0,8.967c0,4.547,4.786,9.513,8.8,12.88a4.974,4.974,0,0,0,6.4,0C19.214,18.48,24,13.514,24,8.967A6.8,6.8,0,0,0,17.5,1.917Zm-3.585,18.4a2.973,2.973,0,0,1-3.83,0C4.947,16.006,2,11.87,2,8.967a4.8,4.8,0,0,1,4.5-5.05A4.8,4.8,0,0,1,11,8.967a1,1,0,0,0,2,0,4.8,4.8,0,0,1,4.5-5.05A4.8,4.8,0,0,1,22,8.967C22,11.87,19.053,16.006,13.915,20.313Z"></path>
            </svg>
            <svg viewBox="0 0 24 24" class="svg-filled" xmlns="http://www.w3.org/2000/svg">
              <path d="M17.5,1.917a6.4,6.4,0,0,0-5.5,3.3,6.4,6.4,0,0,0-5.5-3.3A6.8,6.8,0,0,0,0,8.967c0,4.547,4.786,9.513,8.8,12.88a4.974,4.974,0,0,0,6.4,0C19.214,18.48,24,13.514,24,8.967A6.8,6.8,0,0,0,17.5,1.917Z"></path>
            </svg>
          </div>
        `;

        product.appendChild(button);

        // Attach click event for wishlist functionality
        button.querySelector(".checkbox").addEventListener("change", () => {
          toggleWishlist(product);
        });

        // Pre-check the button if the product is already in the wishlist
        const productId = product.getAttribute("data-id");
        if (wishlist.some((item) => item.id === productId)) {
          button.querySelector(".checkbox").checked = true;
        }
      }
    });
  }

  // Function to add or remove products from wishlist
  function toggleWishlist(product) {
    const productId = product.getAttribute("data-id");
    const productName = product.getAttribute("data-name");
    const productPrice = product.getAttribute("data-price");

    const existingIndex = wishlist.findIndex((item) => item.id === productId);

    if (existingIndex === -1) {
      wishlist.push({ id: productId, name: productName, price: productPrice });
    } else {
      wishlist.splice(existingIndex, 1);
    }

    // Update localStorage
    localStorage.setItem("wishlist", JSON.stringify(wishlist));
  }

  // Initialize buttons on page load
  addWishlistButtons();
});

</script>

</body>
</html>